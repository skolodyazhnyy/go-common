workspace:
  base: /go
  path: src/github.com/magento-mcom/go-common

pipeline:
  dep:
    image: mcom/gobuilder:1.9
    pull: true
    commands:
      - "go get ./..."

  lint:
    image: golangci/golangci-lint:v1.16.0
    pull: true
    commands:
      - "golangci-lint run"

  test-1-9:
    group: test
    image: mcom/gobuilder:1.9
    pull: true
    commands:
      - "go test ./..."

  test-1-10:
    group: test
    image: mcom/gobuilder:1.10
    pull: true
    commands:
      - "go test ./..."

  test-1-11:
    group: test
    image: mcom/gobuilder:1.11
    pull: true
    commands:
      - "go test ./..."

  test-1-12:
    group: test
    image: mcom/gobuilder:1.12
    pull: true
    commands:
      - "go test ./..."
